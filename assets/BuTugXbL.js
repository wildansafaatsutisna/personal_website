import{l as x,E as ee,v as r,r as L,n as g,a2 as V,M as ae,B as te,H as C,w as le,z as v,J as B,o as i,c as p,I as h,a as M,q as b,F as k,j as $,A as I,L as se,k as ne,d as oe,t as ie}from"./RSFrvBQS.js";import{B as re}from"./D1RoP5pY.js";import"./H9l_2dFb.js";import{g as D}from"./i1dE8B0U.js";import{u as ue}from"./CLiIJPfM.js";import{u as d}from"./BLgOG_g-.js";import"./C6F4rY4L.js";const ce=["id","data-bs-target","aria-controls","aria-selected","onClick"],ve=Symbol(),Ce=x({__name:"BTabs",props:{activeNavItemClass:{},activeTabClass:{},align:{},card:{type:[String,Boolean],default:!1},contentClass:{},end:{type:[String,Boolean],default:!1},fill:{type:[String,Boolean],default:!1},id:{},justified:{type:[String,Boolean],default:!1},lazy:{type:[String,Boolean],default:!1},navClass:{},navWrapperClass:{},noFade:{type:[String,Boolean],default:!1},noNavStyle:{type:[String,Boolean],default:!1},pills:{type:[String,Boolean],default:!1},small:{type:[String,Boolean],default:!1},tag:{default:"div"},vertical:{type:[String,Boolean],default:!1},modelValue:{default:-1}},emits:["update:modelValue","activate-tab","click"],setup(P,{emit:W}){const s=P,S=W,T=ee(),y=d(r(s,"card")),N=d(r(s,"end")),q=d(r(s,"fill")),H=d(r(s,"justified")),J=d(r(s,"lazy")),K=d(r(s,"noFade")),R=d(r(s,"noNavStyle")),w=d(r(s,"pills")),G=d(r(s,"small")),j=d(r(s,"vertical")),z=L(s.modelValue),E=L(""),o=g({get:()=>z.value,set:e=>{z.value=e,t.value.length>0&&e>=0&&e<t.value.length?E.value=t.value[e].buttonId:E.value="",S("update:modelValue",e)}}),t=g(()=>{let e=[];return T.default&&(e=_(T).map((a,l)=>{a.props||(a.props={});const n=a.props["button-id"]||D("tab"),u=a.props.id||D(),c=o.value>-1?l===o.value:a.props.active==="",m=a.props["title-item-class"],F=a.props["title-link-attributes"];return{buttonId:n,contentId:u,active:c,disabled:a.props.disabled===""||a.props.disabled===!0,navItemClasses:[{active:c,disabled:a.props.disabled===""||a.props.disabled===!0},c&&s.activeNavItemClass?s.activeNavItemClass:null,a.props["title-link-class"]],tabClasses:[{fade:!K.value},c&&s.activeTabClass?s.activeTabClass:null],target:`#${u}`,title:a.props.title,titleItemClass:m,titleLinkAttributes:F,onClick:a.props.onClick,tab:a,tabComponent:()=>_(T)[l]}})),e}),O=g(()=>!(t!=null&&t.value&&t.value.length>0)),Q=g(()=>({"d-flex":j.value,"align-items-start":j.value})),U=ue(r(s,"align")),X=g(()=>({"nav-pills":w.value,"flex-column me-3":j.value,[U.value]:s.align!==void 0,"nav-fill":q.value,"card-header-tabs":y.value,"nav-justified":H.value,"nav-tabs":!R.value&&!w.value,small:G.value})),f=e=>{let a=!1;if(e!==void 0&&e>-1&&e<t.value.length&&!t.value[e].disabled&&(o.value<0||t.value[e].buttonId!==E.value)){const l=new re("activate-tab",{cancelable:!0});S("activate-tab",e,o.value,l),l.defaultPrevented||(o.value=e,a=!0)}return!a&&s.modelValue!==o.value&&S("update:modelValue",o.value),a},Y=(e,a)=>{var l;f(a),a>=0&&!t.value[a].disabled&&((l=t.value[a])!=null&&l.onClick)&&typeof t.value[a].onClick=="function"&&t.value[a].onClick(e)},_=e=>!e||!e.default?[]:e.default().reduce((a,l)=>(typeof l.type=="symbol"?a=a.concat(l.children):a.push(l),a),[]).filter(a=>{var l;return((l=a.type)==null?void 0:l.__name)==="BTab"});return f(z.value),V(()=>s.modelValue,(e,a)=>{if(e===a)return;if(e=Math.max(e,-1),a=Math.max(a,-1),t.value.length<=0){o.value=-1;return}const l=e>a;let n=e;const u=t.value.length-1;for(;n>=0&&n<=u&&t.value[n].disabled;)n+=l?1:-1;if(n<0){f(0);return}if(n>=t.value.length){f(t.value.length-1);return}f(n)}),V(()=>t.value,()=>{let e=t.value.map(a=>a.active&&!a.disabled).lastIndexOf(!0);e<0&&(o.value>=t.value.length?e=t.value.map(a=>!a.disabled).lastIndexOf(!0):t.value[o.value]&&!t.value[o.value].disabled&&(e=o.value)),e<0&&(e=t.value.map(a=>!a.disabled).indexOf(!0)),t.value.forEach((a,l)=>a.active=l===e),f(e)}),ae(()=>{if(o.value<0&&t.value.length>0&&!t.value.some(e=>e.active)){const e=t.value.map(a=>!a.disabled).indexOf(!0);f(e>=0?e:-1)}}),te(ve,{lazy:J.value,card:y.value}),(e,a)=>(i(),C(B(e.tag),{id:e.id,class:v(["tabs",Q.value])},{default:le(()=>[b(N)?(i(),p("div",{key:0,class:v(["tab-content",e.contentClass])},[(i(!0),p(k,null,$(t.value,({tabComponent:l,contentId:n,tabClasses:u,active:c},m)=>(i(),C(B(l()),{id:n,key:m,class:v(u),active:c},null,8,["id","class","active"]))),128)),O.value?(i(),p("div",{key:"bv-empty-tab",class:v(["tab-pane active",{"card-body":b(y)}])},[I(e.$slots,"empty")],2)):h("",!0)],2)):h("",!0),M("div",{class:v([e.navWrapperClass,{"card-header":b(y),"ms-auto":e.vertical&&b(N)}])},[M("ul",{class:v(["nav",[X.value,e.navClass]]),role:"tablist"},[I(e.$slots,"tabs-start"),(i(!0),p(k,null,$(t.value,({tab:l,buttonId:n,contentId:u,navItemClasses:c,active:m,target:F},A)=>(i(),p("li",{key:A,class:v(["nav-item",l.props["title-item-class"]])},[M("button",se({id:n,class:["nav-link",c],"data-bs-toggle":"tab","data-bs-target":F,role:"tab","aria-controls":u,"aria-selected":m},{ref_for:!0},l.props["title-link-attributes"],{onClick:ne(Z=>Y(Z,A),["stop","prevent"])}),[l.children&&l.children.title?(i(),C(B(l.children.title),{key:0})):(i(),p(k,{key:1},[oe(ie(l.props.title),1)],64))],16,ce)],2))),128)),I(e.$slots,"tabs-end")],2)],2),b(N)?h("",!0):(i(),p("div",{key:1,class:v(["tab-content",e.contentClass])},[(i(!0),p(k,null,$(t.value,({tabComponent:l,contentId:n,tabClasses:u,active:c},m)=>(i(),C(B(l()),{id:n,key:m,class:v(u),active:c},null,8,["id","class","active"]))),128)),O.value?(i(),p("div",{key:"bv-empty-tab",class:v(["tab-pane active",{"card-body":b(y)}])},[I(e.$slots,"empty")],2)):h("",!0)],2))]),_:3},8,["id","class"]))}});export{Ce as _,ve as i};

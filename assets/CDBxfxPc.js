import{_ as N}from"./CpiVfZ5o.js";import{_ as z}from"./DQwsZupw.js";import D from"./BWIz47BI.js";import{i as R}from"./2m5216oT.js";import{r as b,a as T,u as h}from"./D_gjbH0-.js";import"./C4E6UyWt.js";import{r as v,n as y,C as w,D as A,l as U,v as u,E as q,G,H as g,w as $,q as E,o as p,c as L,I as O,A as F,F as H,d as j,t as x,z as J}from"./p68tr7qn.js";import"./GviIUq2w.js";import"./J2owyE2w.js";import"./Ct7vZler.js";import"./DlAUqK2U.js";const K=(B,r=v(1e3),k={})=>{const e=v(!1),a=v(0),o=v(b(B)),t=v(b(r)),l=y(()=>Math.ceil(o.value/t.value)),n=y(()=>i.value||e.value?Math.round(o.value-a.value*t.value):0),{pause:V,resume:C,isActive:i}=T(()=>a.value=a.value+1,r,k),m=()=>{e.value=!1,a.value=0,C()},c=()=>{e.value=!1,a.value=l.value};w(()=>{const s=b(B),d=o.value;s!==d&&(o.value=s,c(),m())}),w(()=>{const s=b(r),d=t.value;s!==d&&(t.value=s,c(),m())}),w(()=>{a.value>l.value&&(a.value=l.value),a.value===l.value&&V()});const S=()=>{i.value!==!1&&(e.value=!0,V())},_=()=>{a.value!==l.value&&(e.value=!1,C())};return{isActive:A(i),isPaused:A(e),restart:m,stop:c,pause:S,resume:_,value:n}},ue=U({__name:"BAlert",props:{dismissLabel:{default:"Close"},dismissible:{type:[String,Boolean],default:!1},fade:{type:[String,Boolean],default:!1},modelValue:{type:[Boolean,Number],default:!1},variant:{default:"info"},closeContent:{},immediate:{type:[String,Boolean],default:!0},interval:{default:1e3},showOnPause:{type:[String,Boolean],default:!0}},emits:["closed","close-countdown","update:modelValue"],setup(B,{expose:r,emit:k}){const e=B,a=h(u(e,"dismissible")),o=h(u(e,"fade")),t=h(u(e,"immediate")),l=h(u(e,"showOnPause")),n=k,V=q(),C=y(()=>!R(V.close)),i=y(()=>[[`alert-${e.variant}`],{"alert-dismissible":a.value}]),{isActive:m,pause:c,restart:S,resume:_,stop:s,isPaused:d,value:I}=K(typeof e.modelValue=="boolean"?0:u(e,"modelValue"),u(e,"interval"),{immediate:typeof e.modelValue=="number"&&t.value}),M=y(()=>typeof e.modelValue=="boolean"?e.modelValue:m.value||l.value&&d.value);w(()=>n("close-countdown",I.value));const P=()=>{typeof e.modelValue=="boolean"?n("update:modelValue",!1):(n("update:modelValue",0),s()),n("closed")};return G(()=>s()),r({pause:c,resume:_,restart:S,stop:s}),(f,Q)=>(p(),g(N,{"no-fade":!E(o),"trans-props":{enterToClass:"show"}},{default:$(()=>[M.value?(p(),L("div",{key:0,class:J(["alert",i.value]),role:"alert","aria-live":"polite","aria-atomic":"true"},[F(f.$slots,"default"),E(a)?(p(),L(H,{key:0},[C.value||f.closeContent?(p(),g(D,{key:0,type:"button",onClick:P},{default:$(()=>[F(f.$slots,"close",{},()=>[j(x(f.closeContent),1)])]),_:3})):(p(),g(z,{key:1,"aria-label":f.dismissLabel,onClick:P},null,8,["aria-label"]))],64)):O("",!0)],2)):O("",!0)]),_:3},8,["no-fade"]))}});export{ue as default};
